EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:4515
LIBS:led_matrix
LIBS:ca3086
LIBS:4511
LIBS:fpga-clock-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 3
Title ""
Date "5 jan 2014"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L 4515 U8
U 1 1 52C90884
P 3900 1700
F 0 "U8" H 3900 2450 60  0000 C CNN
F 1 "4515" H 3900 950 60  0000 C CNN
F 2 "~" H 3900 1850 60  0000 C CNN
F 3 "~" H 3900 1850 60  0000 C CNN
	1    3900 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 1850 3000 1850
Wire Wire Line
	3000 1850 3000 750 
Wire Wire Line
	3000 750  3900 750 
Wire Wire Line
	3900 650  3900 850 
Wire Wire Line
	3100 2050 3000 2050
Wire Wire Line
	3000 2050 3000 2650
Wire Wire Line
	3000 2650 3900 2650
Wire Wire Line
	3900 2550 3900 2750
Connection ~ 3900 2650
$Comp
L GND #PWR020
U 1 1 52C908AC
P 3900 2750
F 0 "#PWR020" H 3900 2750 30  0001 C CNN
F 1 "GND" H 3900 2680 30  0001 C CNN
F 2 "" H 3900 2750 60  0000 C CNN
F 3 "" H 3900 2750 60  0000 C CNN
	1    3900 2750
	1    0    0    -1  
$EndComp
$Comp
L 3V3 #PWR021
U 1 1 52C908BB
P 3900 650
F 0 "#PWR021" H 3900 750 40  0001 C CNN
F 1 "3V3" H 3900 775 40  0000 C CNN
F 2 "" H 3900 650 60  0000 C CNN
F 3 "" H 3900 650 60  0000 C CNN
	1    3900 650 
	1    0    0    -1  
$EndComp
Connection ~ 3900 750 
Text HLabel 1150 1200 0    60   Output ~ 0
col_sel[0..3]
Entry Wire Line
	1950 1250 2050 1350
Entry Wire Line
	1950 1350 2050 1450
Entry Wire Line
	1950 1450 2050 1550
Entry Wire Line
	1950 1550 2050 1650
Wire Wire Line
	2050 1350 3100 1350
Wire Wire Line
	2050 1450 3100 1450
Wire Wire Line
	2050 1550 3100 1550
Wire Wire Line
	3100 1650 2050 1650
Wire Bus Line
	1950 1200 1950 1550
Wire Bus Line
	1150 1200 1950 1200
Text Label 2700 1350 2    60   ~ 0
col_sel0
Text Label 2700 1450 2    60   ~ 0
col_sel1
Text Label 2700 1550 2    60   ~ 0
col_sel2
Text Label 2700 1650 2    60   ~ 0
col_sel3
Text Label 1250 1200 0    60   ~ 0
col_sel[0..3]
Text HLabel 7000 1250 0    60   Output ~ 0
row[0..7]
Wire Wire Line
	8350 1900 8350 1950
Wire Wire Line
	9800 1950 9800 1900
Wire Wire Line
	9800 1900 8350 1900
Wire Wire Line
	8350 2050 8350 2000
Wire Wire Line
	8350 2000 9800 2000
Wire Wire Line
	9800 2000 9800 2050
Wire Wire Line
	9800 2150 9800 2100
Wire Wire Line
	9800 2100 8350 2100
Wire Wire Line
	8350 2100 8350 2150
Wire Wire Line
	8350 2250 8350 2200
Wire Wire Line
	8350 2200 9800 2200
Wire Wire Line
	9800 2200 9800 2250
Wire Wire Line
	9800 2350 9800 2300
Wire Wire Line
	9800 2300 8350 2300
Wire Wire Line
	8350 2300 8350 2350
Wire Wire Line
	8350 2450 8350 2400
Wire Wire Line
	8350 2400 9800 2400
Wire Wire Line
	9800 2400 9800 2450
Wire Wire Line
	9800 2550 9800 2500
Wire Wire Line
	9800 2500 8350 2500
Wire Wire Line
	8350 2500 8350 2550
Entry Wire Line
	7400 1850 7500 1950
Entry Wire Line
	7400 1950 7500 2050
Entry Wire Line
	7400 2050 7500 2150
Entry Wire Line
	7400 2150 7500 2250
Entry Wire Line
	7400 2250 7500 2350
Entry Wire Line
	7400 2350 7500 2450
Entry Wire Line
	7400 2450 7500 2550
Wire Bus Line
	7400 1250 7400 2550
Wire Bus Line
	7400 1250 7000 1250
Text Label 7100 1250 0    60   ~ 0
row[0..7]
Text Label 7750 1950 2    60   ~ 0
row0
Text Label 7750 2050 2    60   ~ 0
row1
Text Label 7750 2150 2    60   ~ 0
row2
Text Label 7750 2250 2    60   ~ 0
row3
Text Label 7750 2350 2    60   ~ 0
row4
Text Label 7750 2450 2    60   ~ 0
row5
Text Label 7750 2550 2    60   ~ 0
row6
Text Label 7750 2650 2    60   ~ 0
row7
$Comp
L LED_MATRIX M2
U 1 1 52C91781
P 10550 2300
F 0 "M2" H 10550 2600 60  0000 C CNN
F 1 "LED_MATRIX" H 10550 1850 60  0000 C CNN
F 2 "~" H 10550 2300 60  0000 C CNN
F 3 "~" H 10550 2300 60  0000 C CNN
	1    10550 2300
	0    -1   -1   0   
$EndComp
Entry Wire Line
	7400 2550 7500 2650
Wire Wire Line
	8350 2650 8350 2600
Wire Wire Line
	8350 2600 9800 2600
Wire Wire Line
	9800 2600 9800 2650
$Comp
L LED_MATRIX M1
U 1 1 52C917F4
P 9100 2300
F 0 "M1" H 9100 2600 60  0000 C CNN
F 1 "LED_MATRIX" H 9100 1850 60  0000 C CNN
F 2 "~" H 9100 2300 60  0000 C CNN
F 3 "~" H 9100 2300 60  0000 C CNN
	1    9100 2300
	0    -1   -1   0   
$EndComp
Text Label 5750 950  0    60   ~ 0
col0
Text Label 5750 1050 0    60   ~ 0
col1
Text Label 5750 1150 0    60   ~ 0
col2
Text Label 5750 1250 0    60   ~ 0
col3
Text Label 5750 1350 0    60   ~ 0
col4
Text Label 5750 1450 0    60   ~ 0
col5
Text Label 5750 1550 0    60   ~ 0
col6
Text Label 5750 1650 0    60   ~ 0
col7
Text Label 5750 1750 0    60   ~ 0
col8
Text Label 5750 1850 0    60   ~ 0
col9
Text Label 5750 1950 0    60   ~ 0
col10
Text Label 5750 2050 0    60   ~ 0
col11
Text Label 5750 2150 0    60   ~ 0
col12
Text Label 5750 2250 0    60   ~ 0
col13
Text Label 5750 2350 0    60   ~ 0
col14
Text Label 5750 2450 0    60   ~ 0
col15
Wire Wire Line
	5150 950  6100 950 
Wire Wire Line
	5150 1050 6100 1050
Wire Wire Line
	5150 1150 6100 1150
Wire Wire Line
	5150 1250 6100 1250
Wire Wire Line
	5150 1350 6100 1350
Wire Wire Line
	5150 1450 6100 1450
Wire Wire Line
	5150 1550 6100 1550
Wire Wire Line
	6100 1750 5550 1750
Wire Wire Line
	5550 1850 6100 1850
Wire Wire Line
	6100 1950 5550 1950
Wire Wire Line
	5550 2050 6100 2050
Wire Wire Line
	6100 2150 5550 2150
Wire Wire Line
	5550 2250 6100 2250
Wire Wire Line
	5550 2350 6100 2350
Wire Wire Line
	6100 2450 5550 2450
$Comp
L R_PACK8 RP3
U 1 1 52C9408A
P 4950 1300
F 0 "RP3" H 4950 1750 40  0000 C CNN
F 1 "10k" H 4950 850 40  0000 C CNN
F 2 "~" H 4950 1300 60  0000 C CNN
F 3 "~" H 4950 1300 60  0000 C CNN
	1    4950 1300
	1    0    0    -1  
$EndComp
$Comp
L R_PACK8 RP4
U 1 1 52C94097
P 5350 2100
F 0 "RP4" H 5350 2550 40  0000 C CNN
F 1 "10k" H 5350 1650 40  0000 C CNN
F 2 "~" H 5350 2100 60  0000 C CNN
F 3 "~" H 5350 2100 60  0000 C CNN
	1    5350 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 2450 5150 2450
Wire Wire Line
	5150 2350 4650 2350
Wire Wire Line
	4650 2250 5150 2250
Wire Wire Line
	5150 2150 4650 2150
Wire Wire Line
	4650 2050 5150 2050
Wire Wire Line
	5150 1950 4650 1950
Wire Wire Line
	4650 1850 5150 1850
Wire Wire Line
	5150 1750 5100 1750
Wire Wire Line
	5100 1750 5100 1800
Wire Wire Line
	5100 1800 4800 1800
Wire Wire Line
	4800 1800 4800 1750
Wire Wire Line
	4800 1750 4650 1750
Wire Wire Line
	4650 1650 4750 1650
Wire Wire Line
	4650 1550 4750 1550
Wire Wire Line
	4650 1450 4750 1450
Wire Wire Line
	4750 1350 4650 1350
Wire Wire Line
	4650 1250 4750 1250
Wire Wire Line
	4650 1150 4750 1150
Wire Wire Line
	4750 1050 4650 1050
Wire Wire Line
	4650 950  4750 950 
Wire Wire Line
	5150 1650 5250 1650
Wire Wire Line
	5250 1650 5250 1600
Wire Wire Line
	5250 1600 5450 1600
Wire Wire Line
	5450 1600 5450 1650
Wire Wire Line
	5450 1650 6100 1650
$Comp
L CA3086 U5
U 1 1 52C94E29
P 2750 4450
F 0 "U5" H 2750 4800 60  0000 C CNN
F 1 "CA3086" H 2750 4100 60  0000 C CNN
F 2 "~" H 2850 4400 60  0000 C CNN
F 3 "~" H 2850 4400 60  0000 C CNN
	1    2750 4450
	1    0    0    -1  
$EndComp
$Comp
L CA3086 U6
U 1 1 52C94E38
P 2750 5450
F 0 "U6" H 2750 5800 60  0000 C CNN
F 1 "CA3086" H 2750 5100 60  0000 C CNN
F 2 "~" H 2850 5400 60  0000 C CNN
F 3 "~" H 2850 5400 60  0000 C CNN
	1    2750 5450
	1    0    0    -1  
$EndComp
$Comp
L CA3086 U7
U 1 1 52C94E47
P 2750 6450
F 0 "U7" H 2750 6800 60  0000 C CNN
F 1 "CA3086" H 2750 6100 60  0000 C CNN
F 2 "~" H 2850 6400 60  0000 C CNN
F 3 "~" H 2850 6400 60  0000 C CNN
	1    2750 6450
	1    0    0    -1  
$EndComp
$Comp
L NPN Q3
U 1 1 52C94E56
P 2750 3600
F 0 "Q3" H 2750 3450 50  0000 R CNN
F 1 "NPN" H 2750 3750 50  0000 R CNN
F 2 "~" H 2750 3600 60  0000 C CNN
F 3 "~" H 2750 3600 60  0000 C CNN
	1    2750 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 4250 1700 4250
Text Label 2050 4250 2    60   ~ 0
col0
Text Label 2050 4450 2    60   ~ 0
col1
Text Label 2050 4650 2    60   ~ 0
col2
Text Label 3450 4650 0    60   ~ 0
col3
Text Label 3450 4350 0    60   ~ 0
col4
Text Label 2050 5250 2    60   ~ 0
col5
Text Label 2050 5450 2    60   ~ 0
col6
Text Label 2050 5650 2    60   ~ 0
col7
Text Label 3450 5650 0    60   ~ 0
col8
Text Label 3450 5350 0    60   ~ 0
col9
Text Label 2050 6250 2    60   ~ 0
col10
Text Label 2050 6450 2    60   ~ 0
col11
Text Label 2050 6650 2    60   ~ 0
col12
Text Label 3450 6650 0    60   ~ 0
col13
Text Label 3450 6350 0    60   ~ 0
col14
Text Label 2450 3600 2    60   ~ 0
col15
Wire Wire Line
	2150 4650 1700 4650
Wire Wire Line
	2150 4450 1700 4450
Wire Wire Line
	3350 4650 3800 4650
Wire Wire Line
	3350 4350 3800 4350
Wire Wire Line
	2150 5250 1700 5250
Wire Wire Line
	2150 5450 1700 5450
Wire Wire Line
	2150 5650 1700 5650
Wire Wire Line
	3350 5650 3800 5650
Wire Wire Line
	3350 5350 3800 5350
Wire Wire Line
	2150 6250 1700 6250
Wire Wire Line
	2150 6450 1700 6450
Wire Wire Line
	2150 6650 1700 6650
Wire Wire Line
	3350 6650 3800 6650
Wire Wire Line
	3350 6350 3800 6350
Wire Wire Line
	2550 3600 2100 3600
Wire Wire Line
	2850 3850 2850 3800
$Comp
L GND #PWR022
U 1 1 52C95850
P 2100 6850
F 0 "#PWR022" H 2100 6850 30  0001 C CNN
F 1 "GND" H 2100 6780 30  0001 C CNN
F 2 "" H 2100 6850 60  0000 C CNN
F 3 "" H 2100 6850 60  0000 C CNN
	1    2100 6850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR023
U 1 1 52C95860
P 3400 6850
F 0 "#PWR023" H 3400 6850 30  0001 C CNN
F 1 "GND" H 3400 6780 30  0001 C CNN
F 2 "" H 3400 6850 60  0000 C CNN
F 3 "" H 3400 6850 60  0000 C CNN
	1    3400 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 3050 8750 3650
Text Label 8750 3150 3    60   ~ 0
col_e0
Text Label 8850 3150 3    60   ~ 0
col_e1
Text Label 8950 3150 3    60   ~ 0
col_e2
Text Label 9050 3150 3    60   ~ 0
col_e3
Text Label 9150 3150 3    60   ~ 0
col_e4
Text Label 9250 3150 3    60   ~ 0
col_e5
Text Label 9350 3150 3    60   ~ 0
col_e6
Text Label 9450 3150 3    60   ~ 0
col_e7
Text Label 10200 3150 3    60   ~ 0
col_e8
Text Label 10300 3150 3    60   ~ 0
col_e9
Text Label 10400 3150 3    60   ~ 0
col_e10
Text Label 10500 3150 3    60   ~ 0
col_e11
Text Label 10600 3150 3    60   ~ 0
col_e12
Text Label 10700 3150 3    60   ~ 0
col_e13
Text Label 10800 3150 3    60   ~ 0
col_e14
Text Label 10900 3150 3    60   ~ 0
col_e15
Wire Wire Line
	8850 3050 8850 3650
Wire Wire Line
	8950 3650 8950 3050
Wire Wire Line
	9050 3050 9050 3650
Wire Wire Line
	9150 3050 9150 3650
Wire Wire Line
	9250 3050 9250 3650
Wire Wire Line
	9350 3650 9350 3050
Wire Wire Line
	9450 3050 9450 3650
Wire Wire Line
	10200 3050 10200 3650
Wire Wire Line
	10300 3650 10300 3050
Wire Wire Line
	10400 3050 10400 3650
Wire Wire Line
	10500 3650 10500 3050
Wire Wire Line
	10600 3050 10600 3650
Wire Wire Line
	10700 3650 10700 3050
Wire Wire Line
	10800 3650 10800 3050
Wire Wire Line
	10900 3050 10900 3650
Text Label 2050 4150 2    60   ~ 0
col_e0
Text Label 2050 4550 2    60   ~ 0
col_e1
Text Label 3450 4750 0    60   ~ 0
col_e2
Text Label 3450 4450 0    60   ~ 0
col_e3
Text Label 3450 4150 0    60   ~ 0
col_e4
Text Label 2050 5150 2    60   ~ 0
col_e5
Text Label 2050 5550 2    60   ~ 0
col_e6
Text Label 3450 5750 0    60   ~ 0
col_e7
Text Label 3450 5450 0    60   ~ 0
col_e8
Text Label 3450 5150 0    60   ~ 0
col_e9
Text Label 2050 6150 2    60   ~ 0
col_e10
Text Label 2050 6550 2    60   ~ 0
col_e11
Text Label 3450 6750 0    60   ~ 0
col_e12
Text Label 3450 6450 0    60   ~ 0
col_e13
Text Label 3450 6150 0    60   ~ 0
col_e14
Text Label 2950 3400 0    60   ~ 0
col_e15
Text Notes 1550 7100 0    60   ~ 0
Note that all of these transistors should be driven to saturation\n(hopefully...)
Text Notes 10850 1450 2    60   ~ 0
These LED matrices are flipped because they are actually\ncolumn anode instead of the ideal column cathode LED matrices.\nSo, remember to flip them in PCB design.
Wire Wire Line
	2850 3400 3300 3400
Wire Wire Line
	2150 4150 1700 4150
Wire Wire Line
	2150 4550 1700 4550
Wire Wire Line
	3350 4150 3800 4150
Wire Wire Line
	3350 4450 3800 4450
Wire Wire Line
	3350 4750 3800 4750
Wire Wire Line
	2150 5150 1700 5150
Wire Wire Line
	2150 5550 1700 5550
Wire Wire Line
	3350 5150 3800 5150
Wire Wire Line
	3350 5450 3800 5450
Wire Wire Line
	3350 5750 3800 5750
Wire Wire Line
	3350 6150 3800 6150
Wire Wire Line
	3350 6450 3800 6450
Wire Wire Line
	3350 6750 3800 6750
Wire Wire Line
	2150 6550 1700 6550
Wire Wire Line
	2150 6150 1700 6150
Text Notes 11100 3850 2    60   ~ 0
Bear in mind that these names are actually a misnomer.\nI'm connecting the signals to the collector of the transistors, \nnot the emitter!
Wire Wire Line
	2850 3850 3400 3850
Wire Wire Line
	3400 3850 3400 6850
Wire Wire Line
	3350 6550 3400 6550
Connection ~ 3400 6550
Wire Wire Line
	3350 6250 3400 6250
Connection ~ 3400 6250
Wire Wire Line
	3350 5550 3400 5550
Connection ~ 3400 5550
Wire Wire Line
	3350 5250 3400 5250
Connection ~ 3400 5250
Wire Wire Line
	3400 4250 3350 4250
Connection ~ 3400 4250
Wire Wire Line
	3350 4550 3400 4550
Connection ~ 3400 4550
Wire Wire Line
	2100 6850 2100 4350
Wire Wire Line
	2100 4350 2150 4350
Wire Wire Line
	2100 4750 2150 4750
Connection ~ 2100 4750
Wire Wire Line
	2100 5350 2150 5350
Connection ~ 2100 5350
Wire Wire Line
	2100 5750 2150 5750
Connection ~ 2100 5750
Wire Wire Line
	2100 6750 2150 6750
Connection ~ 2100 6750
Wire Wire Line
	2150 6350 2100 6350
Connection ~ 2100 6350
$Comp
L R_PACK8 RP5
U 1 1 52C9858B
P 8050 2300
F 0 "RP5" H 8050 2750 40  0000 C CNN
F 1 "1k" H 8050 1850 40  0000 C CNN
F 2 "~" H 8050 2300 60  0000 C CNN
F 3 "~" H 8050 2300 60  0000 C CNN
	1    8050 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 1950 8250 1950
Wire Wire Line
	8350 2050 8250 2050
Wire Wire Line
	8350 2150 8250 2150
Wire Wire Line
	8350 2250 8250 2250
Wire Wire Line
	8350 2350 8250 2350
Wire Wire Line
	8350 2450 8250 2450
Wire Wire Line
	8350 2550 8250 2550
Wire Wire Line
	8350 2650 8250 2650
Wire Wire Line
	7850 2650 7500 2650
Wire Wire Line
	7500 2550 7850 2550
Wire Wire Line
	7850 2450 7500 2450
Wire Wire Line
	7500 2350 7850 2350
Wire Wire Line
	7850 2250 7500 2250
Wire Wire Line
	7500 2150 7850 2150
Wire Wire Line
	7850 2050 7500 2050
Wire Wire Line
	7500 1950 7850 1950
$EndSCHEMATC
